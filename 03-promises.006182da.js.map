{"mappings":"iiBAAA,IAAAA,EAAAC,EAAA,SACAC,QAAQC,IAAIC,EAAAJ,IAEZ,IAAMK,EAAQC,SAASC,cAAc,SA8Cb,SAAfC,EAAcC,EAAUC,GAE/B,IAAMC,EAAgBC,KAAKC,SAAW,GActC,OAZgB,IAAIC,SAAQ,SAACC,EAASC,GAGEC,YAA3B,WACLN,EACFI,EAAS,CAAEN,WAAUC,UAErBM,EAAQ,CAAEP,WAAUC,S,GAErBA,E,IA1DPR,QAAQC,IAAIE,GAK2CA,EAAjDa,iBAAiB,UAErB,SAAsBC,GACpBA,EAAEC,iBACFlB,QAAQC,IAAIgB,EAAEE,eACd,IAAgCC,EAAAH,EAAEE,cAA1BE,EAAwBD,EAAxBZ,MAAOc,EAAiBF,EAAjBE,KAAMC,EAAWH,EAAXG,OAEjBC,EAAaC,OAAOJ,EAAMK,OAC1BC,EAAYF,OAAOH,EAAKI,OACtBE,EAAcH,OAAOF,EAAOG,OAElC1B,QAAQC,IAAIuB,GACZxB,QAAQC,IAAI0B,GACZ3B,QAAQC,IAAI2B,GAEZ,IAAK,IAAIC,EAAI,EAAGA,EAAID,EAAaC,GAAK,EAKQvB,EAA9BuB,EAAE,EAAGL,GAChBM,MAAK,SAAAC,G,IAAGxB,EAAQwB,EAARxB,SAAUC,EAAKuB,EAALvB,MAGjBN,EAAAJ,GAASkC,OAAOC,QAAQ,uBAAwCC,OAAf3B,EAAS,QAAY2B,OAAN1B,EAAM,M,IAGvE2B,OAAM,SAAAJ,G,IAAGxB,EAAQwB,EAARxB,SAAUC,EAAKuB,EAALvB,MAGlBN,EAAAJ,GAASkC,OAAOI,QAAQ,sBAAuCF,OAAf3B,EAAS,QAAY2B,OAAN1B,EAAM,M,IAI5CgB,GAAHG,C","sources":["src/js/03-promises.js"],"sourcesContent":["import Notiflix from 'notiflix';\nconsole.log(Notiflix);\n\nconst btnEl = document.querySelector('.form');\nconsole.log(btnEl);\n\n// при отправке формы будет создаваться цикл и какое пользователь введет\n// число в Amount столько раз будет вызываться функция по созданию промиса\n\nbtnEl.addEventListener('submit', handleSubmit);\n\n  function handleSubmit(e) {\n    e.preventDefault()\n    console.log(e.currentTarget);\n    const { delay, step, amount } = e.currentTarget;\n\n    let inputDelay = Number(delay.value);\n    let inputStep = Number(step.value);\n    const inputAmount = Number(amount.value);\n\n    console.log(inputDelay);\n    console.log(inputStep);\n    console.log(inputAmount);\n    \n    for (let i = 0; i < inputAmount; i += 1) {\n          \n      // вызываем функции по созданию промиса и передаем в качестве аргументов \n      // номер промиса и задержку с учетом Step на каждой итерации\n\n      createPromise(i+1, inputDelay)\n        .then(({ position, delay }) => {\n          // console.log(res);\n          // использовала библиотеку для вывода окна положительного ответа \n          Notiflix.Notify.success(`✅ Fulfilled promise ${position} in ${delay}ms`);\n        })\n        \n        .catch(({ position, delay }) => {\n          // console.log(res);\n           // использовала библиотеку для вывода окна отрицательного ответа\n          Notiflix.Notify.failure(`❌ Rejected promise ${position} in ${delay}ms`);\n        })\n      \n      // при следующей итерации добавляем Step\n      inputDelay = inputDelay + inputStep;\n    }\n  \n}\n\n// функция по созданию промиса\nfunction createPromise(position, delay) {\n\n  const shouldResolve = Math.random() > 0.3;\n  // создали промис\n  const promise = new Promise((resolve, reject) => {\n\n    // промисы будут создаваться с учетом задержки delay\n    setTimeout(() => {\n      if (shouldResolve) {\n        resolve(({ position, delay }));\n      } else {\n        reject(({ position, delay }));\n      }\n    }, delay);\n    \n  })\n  return promise;\n  }\n\n\n\n\n\n\n\n\n\n\n\n  \n\n\n\n\n\n\n\n\n\n\n\n// function createPromise(position, delay) {\n//   const shouldResolve = Math.random() > 0.3;\n//   if (shouldResolve) {\n//     // Fulfill\n//   } else {\n//     // Reject\n//   }\n// }\n\n\n\n\n\n\n\n\n\n// 2 вариант когда промис возвращается не в качестве объекта значений свойств\n\n// import Notiflix from 'notiflix';\n// console.log(Notiflix);\n\n// const btnEl = document.querySelector('.form');\n// console.log(btnEl);\n\n// // при отправке формы будет создаваться цикл и какое пользователь введет\n// // число в Amount столько раз будет вызываться функция по созданию промиса\n\n// btnEl.addEventListener('submit', handleSubmit);\n\n//   function handleSubmit(e) {\n//     e.preventDefault()\n//     console.log(e.currentTarget);\n//     const { delay, step, amount } = e.currentTarget;\n\n//     let inputDelay = Number(delay.value);\n//     const inputStep = Number(step.value);\n//     const inputAmount = Number(amount.value);\n\n//     console.log(inputDelay);\n//     console.log(inputStep);\n//     console.log(inputAmount);\n    \n//     for (let i = 0; i < inputAmount; i += 1) {\n      \n//       // вызов функции по созданию промиса и передаем в качестве аргументов \n//       // номер промиса и задержку с учетом Step на каждой итерации\n\n//       createPromise(i+1, inputDelay)\n//         .then(res => {\n//           // console.log(res);\n//           // использовала библиотеку для вывода окна положительного ответа \n//           Notiflix.Notify.success(res);\n//         })\n        \n//         .catch(res => {\n//           // console.log(res);\n//            // использовала библиотеку для вывода окна отрицательного ответа\n//           Notiflix.Notify.failure(res);\n//         })\n      \n//       // при следующей итерации добавляем Step\n//           inputDelay = inputDelay + inputStep;\n//     }\n  \n// }\n\n// // функция по созданию промиса\n// function createPromise(position, delay) {\n\n//   const shouldResolve = Math.random() > 0.3;\n//   // создали промис\n//   const promise = new Promise((resolve, reject) => {\n\n//     // промисы будут создаваться с учетом задержки delay\n//     setTimeout(() => {\n//       if (shouldResolve) {\n//         resolve(`✅ Fulfilled promise ${position} in ${delay}ms`);\n//       } else {\n//         reject(`❌ Rejected promise ${position} in ${delay}ms`);\n//       }\n//     }, delay);\n    \n//   })\n//   return promise;\n//   }"],"names":["$6JpON","parcelRequire","console","log","$parcel$interopDefault","$ce04d3a99e08e73b$var$btnEl","document","querySelector","$ce04d3a99e08e73b$var$createPromise","position","delay","shouldResolve","Math","random","Promise","resolve","reject","setTimeout","addEventListener","e","preventDefault","currentTarget","_currentTarget","delay1","step","amount","inputDelay","Number","value","inputStep","inputAmount","i","then","param","Notify","success","concat","catch","failure"],"version":3,"file":"03-promises.006182da.js.map"}